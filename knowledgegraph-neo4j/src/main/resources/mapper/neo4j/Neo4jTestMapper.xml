<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.knowledgegraph.neo4j.mapper.Neo4jTestMapper">
    
    <resultMap type="Neo4jTest" id="Neo4jTestResult">
        <result property="neo4jTestKey"    column="neo4j_test_key"    />
        <result property="neo4jTestName"    column="neo4j_test_name"    />
    </resultMap>

    <sql id="selectNeo4jTestVo">
        select neo4j_test_key, neo4j_test_name from neo4j_test
    </sql>

    <select id="selectNeo4jTestList" parameterType="Neo4jTest" resultMap="Neo4jTestResult">
        <include refid="selectNeo4jTestVo"/>
        <where>  
            <if test="neo4jTestKey != null  and neo4jTestKey != ''"> and neo4j_test_key = #{neo4jTestKey}</if>
            <if test="neo4jTestName != null  and neo4jTestName != ''"> and neo4j_test_name like concat('%', #{neo4jTestName}, '%')</if>
        </where>
    </select>
    
    <select id="selectNeo4jTestByNeo4jTestKey" parameterType="String" resultMap="Neo4jTestResult">
        <include refid="selectNeo4jTestVo"/>
        where neo4j_test_key = #{neo4jTestKey}
    </select>
        
    <insert id="insertNeo4jTest" parameterType="Neo4jTest">
        insert into neo4j_test
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="neo4jTestKey != null">neo4j_test_key,</if>
            <if test="neo4jTestName != null">neo4j_test_name,</if>
         </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="neo4jTestKey != null">#{neo4jTestKey},</if>
            <if test="neo4jTestName != null">#{neo4jTestName},</if>
         </trim>
    </insert>

    <update id="updateNeo4jTest" parameterType="Neo4jTest">
        update neo4j_test
        <trim prefix="SET" suffixOverrides=",">
            <if test="neo4jTestName != null">neo4j_test_name = #{neo4jTestName},</if>
        </trim>
        where neo4j_test_key = #{neo4jTestKey}
    </update>

    <delete id="deleteNeo4jTestByNeo4jTestKey" parameterType="String">
        delete from neo4j_test where neo4j_test_key = #{neo4jTestKey}
    </delete>

    <delete id="deleteNeo4jTestByNeo4jTestKeys" parameterType="String">
        delete from neo4j_test where neo4j_test_key in 
        <foreach item="neo4jTestKey" collection="array" open="(" separator="," close=")">
            #{neo4jTestKey}
        </foreach>
    </delete>
</mapper>